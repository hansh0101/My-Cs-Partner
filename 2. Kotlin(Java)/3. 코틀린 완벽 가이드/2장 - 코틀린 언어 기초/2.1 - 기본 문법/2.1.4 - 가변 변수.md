# 2.1.4 - 가변 변수

- 지금까지 살펴본 변수는 불변(immutable) 변수다. **불변 변수는 한번 초기화하면 다시는 값을 대입할 수 없는 변수**다. 이는 **자바 final 변수**와 비슷하다. 불변 변수를 사용하면 함수가 부수 효과(side effect)를 일으키지 못하고, 함수형 스타일 코드를 장려할 수 있으며, 이로 인해 코드에 대한 추론이 쉬워지기 때문에 가능하면 불변 변수를 많이 사용해야 한다.
- 하지만 필요한 경우 val 대신 var 키워드를 사용해 가변(mutable) 변수를 정의할 수 있다. 기본적인 문법은 불변 변수의 경우와 같다. 다만 원할 때 변수 값을 얼마든지 바꿀 수 있다는 점이 다르다.
- 변수 값을 바꿀 때는 사용하는 `=` 연산을 대입(assignment)이라고 부른다. 대입 연산은 불변 변수를 초기화할 때 사용했던 것이다.
    
    ```kotlin
    var sum = 1
    sum = sum + 2
    sum = sum + 3
    ```
    
- 처음 변수에 값을 대입할 때 추론된 변수 타입은 변수가 불변이든 그렇지 않든 계속 유지된다는 점에 주의해야 한다. 잘못된 타입의 값을 대입하면 컴파일 오류가 발생한다.
    
    ```kotlin
    var sum = 1
    sum = "Hello" // Error: assigning String value to Int variable
    ```
    
- 추가로 코틀린은 복합 대입 연산(argumented assignment)이라는 대입과 +, -, *, /, % 등의 이항(binary) 연산을 조합한 연산도 제공한다.
    
    ```kotlin
    var result = 3
    result *= 10 // result = result * 10
    result += 6 // result = result + 6
    ```
    
- 이런 대입 연산은 복합 대입 연산의 대상이 되는 변수에 대해 이항 연산자가 쓰일 수 있을 때만 가능하다.

> **자바 vs 코틀린**  
자바와 달리 코틀린 대입은 문(statement)이다. 따라서 아무런 값도 돌려주지 않는다. 이로 인해 코틀린에서는 자바의 a = b = c와 같은 대입문 연쇄를 쓸 수 없다. 이런 식의 연쇄적인 대입문이 필요한 경우도 드물고, 쓰다가 실수하기도 쉽기 때문에 코틀린에서는 이런 대입을 금지한다. 복합 대입 연산도 마찬가지다.
> 

---

- 변수 값을 변경할 수 있는 연산은 두 가지 더 있는데, 바로 증가(++)와 감소(--) 연산이다. 이 연산의 가장 분명한 용례는 수 값을 1씩 증가시키거나 감소시키는 것이며 자바와 마찬가지로 두 연산자를 전위(prefix)나 후위(postfix) 연산자로 쓸 수 있다.
    
    ```kotlin
    var a = 1
    println(a++) // a는 2, 1이 출력됨
    println(++a) // a는 3, 3이 출력됨
    println(--a) // a는 2, 2가 출력됨
    println(a--) // a는 1, 2가 출력됨
    ```
    
- 위 예제를 보면 전위와 후위 연산이 모두 값을 변경하지만, 전위 연산의 결과는 변경된 이후의 새 값이고 후위 연산의 결과는 변경되기 전 값이다.